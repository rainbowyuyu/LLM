<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>海上安全预警系统</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="styles/main.css">
  <link rel="icon" href="asset/LOGO.png" type="image/png">
</head>
<body>
  <div class="app-container">
    <aside class="sidebar">
      <div class="sidebar-header">
        <h2><img src="asset/LOGO.png" alt="海上安全预警系统logo" class="sidebar-logo"> 海上安全预警系统</h2>
        <button id="new-session-btn" class="btn primary-btn">
          <i class="fas fa-plus"></i> 新建分析会话
        </button>
      </div>
      <div class="history-container">
        <h3><i class="fas fa-history"></i> 分析历史</h3>
        <div id="history-list" class="history-list">
        </div>
      </div>
      <div class="sidebar-footer">
        <button id="settings-btn" class="btn secondary-btn">
          <i class="fas fa-cog"></i> 系统设置
        </button>
      </div>
    </aside>

    <main class="main-content">
      <div class="chat-container" id="chat-container">
        <div class="welcome-message">
          <img src="asset/LOGO.png" alt="海上安全预警系统logo" class="mid-logo">
          <h3>欢迎使用海上安全预警系统</h3>
          <p>支持海上目标识别、风险检测、安全预警分析<br></p>
        </div>
      </div>

      <div class="input-container">
        <div class="media-upload">
          <label for="media-input" class="upload-btn">
            <i class="fas fa-paperclip"></i>
          </label>
          <input type="file" id="media-input" accept="image/jpeg,image/png,image/gif,video/mp4,video/webm" hidden>
          <div id="media-preview" class="media-preview"></div>
        </div>
        <textarea
          id="message-input"
          placeholder="例如：海上安全知识科普/检测海上目标/识别风险/分析海域安全/判断船只类型"
          rows="1"
        ></textarea>
        <button id="send-btn" class="btn send-btn">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </main>
  </div>

  <div id="settings-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>海上安全预警系统设置</h3>
        <button class="close-btn">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="api-key">API Key</label>
          <input type="text" id="api-key" placeholder="输入API Key" value="sk-846a6816c1144eeea8c256c6cfc3bfb2">
        </div>
        <div class="form-group">
          <label for="text-model">文本分析基座模型</label>
          <input type="text" id="text-model" placeholder="如qwen-turbo" value="qwen-turbo">
        </div>
        <div class="form-group">
          <label for="vision-model">视觉检测基座模型</label>
          <input type="text" id="vision-model" placeholder="如qwen3-vl-plus" value="qwen3-vl-plus">
        </div>
      </div>
      <div class="modal-footer">
        <button id="save-settings" class="btn primary-btn">保存设置</button>
        <button class="btn secondary-btn close-modal">取消</button>
      </div>
    </div>
  </div>

  <div id="loading-overlay" class="loading-overlay hidden">
    <div class="loading-spinner">
      <i class="fas fa-spinner fa-spin"></i>
      <p>正在进行海上安全分析...</p>
    </div>
  </div>

  <!-- 新增：页脚标签 -->
  <footer class="sys-footer">
    <div class="footer-left">
      <i class="fas fa-shield-alt"></i>
      <span></span>
    </div>
    <div class="footer-right">
      <span>Copyright © rainbow_yu  | <i class="fas fa-shield-alt"></i>网站备案：<a href="https://beian.miit.gov.cn/" target="_blank">沪ICP备2025156088号</a></span>
    </div>
  </footer>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/12.0.1/marked.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="scripts/intent.js"></script>
  <script src="scripts/markdown.js"></script>
  <script src="scripts/main.js"></script>
</body>
</html>